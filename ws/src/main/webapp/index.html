<!DOCTYPE html>
<html>
<head>
    <style>
        .res {
            list-style-type: none;
            padding: 5px;
        }

        .res, li {
            background: rgba(202, 237, 242, 0.62);
        }

        .res, li:nth-child(odd) {
            background: #d6e1ff;
        }
    </style>
    <script>
        function loaded() {
            console.log("page loaded");
            var ws = new WebSocket("ws://localhost:4739");
            ws.onopen = function(event) {
                console.log("connection open: " + JSON.stringify(event));
                function send(json) {
                    ws.send(JSON.stringify(json));
                }
                ws.onmessage = function(msgEvent) {
                    console.log("received: " + msgEvent);
                    var msg = JSON.parse(msgEvent.data);  
                    console.log("received: " + msgEvent.data);
                    console.log("received: " + msg);
                };
                document.getElementById("go").onclick = function () {
                    send({
                        "type": "go.click",
                        "data": {}
                    });
                };
                var queryInput = document.getElementById("query");
                queryInput.oninput = function () {
                    send({
                        "type": "query.input",
                        "text": queryInput.value
                    })
                }
            };
        }

    </script>
</head>
<body onload="loaded()">
<form>
    <div>
        <label for="query">Query</label>
        <input id="query" type="search"/>
        <button id="go" type="button">Go</button>
    </div>
    <div>
        <input type="checkbox">Instant search</input>
    </div>
    <div id="results">
        <ul class="res">
            <li>a</li>
            <li>b</li>
            <li>c</li>
        </ul>
    </div>
</form>
</body>
</html>